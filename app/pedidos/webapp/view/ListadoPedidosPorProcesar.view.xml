<mvc:View
    controllerName="pedidos.controller.ListadoPedidosPorProcesar"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:p="sap.m.plugins"
    xmlns:t="sap.ui.table"
    xmlns:u="sap.ui.unified"
    xmlns:c="sap.ui.core"
>
    <Page
        id="pageListadoPedidosPorProcesar"
        title="{i18n>title}"
    >
        <content>

            <t:Table
                id="tablaPedidosPorProcesar"
                rows="{ path: '/Pedido', 
						parameters: {expand: 'Cliente,Estado'},
                        filters: [{
                                    path: 'Estado_code',
                                    operator: 'EQ',
                                    value1: 'P'
                                }],
						sorter: {
								path: 'Fecha_Pedido',
								descending: true
								} 
					}"
                selectionMode="MultiToggle"
                ariaLabelledBy="title"
            >
                <t:columns>
                    <t:Column>
                        <Label text="Pedido" />
                        <t:template>
                            <Text
                                text="{Id}"
                                wrapping="false"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="Cliente" />
                        <t:template>
                            <Text
                                text="{Cliente/Nombre}"
                                wrapping="false"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="Fecha" />
                        <t:template>
                            <Text
                                text="{
										path: 'Fecha_Pedido',
										type: 'sap.ui.model.type.Date',
										formatOptions: { pattern: 'dd/MM/yyyy' }
									}"
                                wrapping="false"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="Estado" />
                        <t:template>
                            <Text
                                text="{Estado/name}"
                                wrapping="false"
                            />
                        </t:template>
                    </t:Column>

                    <t:Column>
                        <Label text="Acciones" />
                        <t:template>
                            <Button
                                text="Gestionar Pedido"
                                icon="sap-icon://navigation-right-arrow"
                                press="onGestionar"
                            />
                        </t:template>
                    </t:Column>
                </t:columns>
            </t:Table>
        </content>
    </Page>
</mvc:View>
