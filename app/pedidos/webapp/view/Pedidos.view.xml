<mvc:View controllerName="pedidos.controller.Pedidos"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
	xmlns:p="sap.m.plugins"

    xmlns:t="sap.ui.table"
	xmlns:u="sap.ui.unified"
	xmlns:c="sap.ui.core"
    >

    <Page id="pagePedidos" title="{i18n>title}">

        <content>

			<Toolbar>
				<ToolbarSpacer/>
				<Button id="btnCrearPed" text="Crear nuevo pedido" press="onCrearPedido" />
				<Button id="btnborrarPed" type="Reject" text="Eliminar" press="onEliminarPedido" />
				<ToolbarSpacer/>
			</Toolbar>

				<t:Table
				id="tablaPedidos"
				rows="{ path: '/Pedido', 
						parameters: {expand: 'Cliente,Estado'},
						sorter: {
								path: 'Fecha_Pedido',
								descending: true
								} 
					}"
				selectionMode="MultiToggle"
				ariaLabelledBy="title">

					<t:columns>
						<t:Column>
							<Label text="Pedido" />
							<t:template>
								<Text text="{Id}" wrapping="false"/>
							</t:template>
						</t:Column>

						<t:Column>
							<Label text="Cliente" />
							<t:template>
								<Text text="{Cliente/Nombre}" wrapping="false"/>
							</t:template>
						</t:Column>

						<t:Column>
							<Label text="Fecha" />
							<t:template>
								<Text text="{Fecha_Pedido}" wrapping="false"/>
							</t:template>
						</t:Column>

						<t:Column>
							<Label text="Estado" />
							<t:template>
								<Text text="{Estado/name}" wrapping="false"/>
							</t:template>
						</t:Column>

						<t:Column>
							<Label text="Mas info" />
							<t:template>
								<t:RowAction >
									<t:RowActionItem type="Navigation"  press="onDetail"/>
								</t:RowAction>
							</t:template>
						</t:Column>

					</t:columns>
				</t:Table>
        </content>

    </Page>


</mvc:View>